<div class="container my-4" style="max-width:720px;">
  <h3 class="mb-3">New message</h3>

  <% if defined?(@recipient) && @recipient.present? %>
    <p class="text-muted">To: <strong><%= @recipient.respond_to?(:full_name) ? (@recipient.full_name.presence || @recipient.name || @recipient.email) : (@recipient.name || @recipient.email) %></strong></p>
  <% end %>

  <%= form_with model: @message, url: messages_path do |f| %>
    <%= f.hidden_field :recipient_id %>

    <!-- Add label "Message" here too, for consistency -->
    <div class="mb-3">
      <%= f.label :body, "Message", class: "form-label" %>
      <%= f.text_area :body, class: "form-control", rows: 5, placeholder: "Type your message..." %>
    </div>

    <div class="d-flex gap-2">
      <%= link_to "Cancel", request.referer || messages_path, class: "btn btn-outline-secondary" %>
      <%= f.submit "Send", class: "btn btn-primary" %>
    </div>
  <% end %>
</div>

